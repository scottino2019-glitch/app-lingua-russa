<!DOCTYPE html>
<html lang="it">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>App Lingua Russa - Menu</title>
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  font-family: Verdana, Arial, Helvetica, sans-serif;
Â  Â  Â  background-color: #fff;
Â  Â  Â  color: #333;
Â  Â  }

Â  Â  /* Barra tricolore */
Â  Â  .flag-bar {
Â  Â  Â  display: flex;
Â  Â  Â  height: 10px;
Â  Â  }
Â  Â  .flag-bar div {
Â  Â  Â  flex: 1;
Â  Â  }
Â  Â  .white { background-color: #FFFFFF; }
Â  Â  .blue { background-color: #0033A0; }
Â  Â  .red { background-color: #D52B1E; }

Â  Â  header {
Â  Â  Â  background-color: #0033A0; /* Blu bandiera russa */
Â  Â  Â  color: #FFFFFF;
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 20px;
Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  font-weight: bold;
Â  Â  }

Â  Â  .menu {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 10px;
Â  Â  Â  justify-content: center;
Â  Â  Â  margin: 20px 0;
Â  Â  Â  flex-wrap: wrap;
Â  Â  }

Â  Â  .btn-primary {
Â  Â  Â  width: 160px;
Â  Â  Â  height: 33px;
Â  Â  Â  background-color: #D52B1E;
Â  Â  Â  color: #FFFFFF;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  font-size: 14px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 5px;
Â  Â  Â  transition: background-color 0.3s ease;
Â  Â  }

Â  Â  .btn-primary:hover {
Â  Â  Â  background-color: #a81f15;
Â  Â  }

Â  Â  main {
Â  Â  Â  max-width: 800px;
Â  Â  Â  margin: auto;
Â  Â  Â  padding: 20px;
Â  Â  Â  text-align: center;
Â  Â  }
Â  Â  
Â  Â  .card {
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  padding: 10px;
Â  Â  Â  margin: 10px 0;
Â  Â  Â  text-align: left;
Â  Â  Â  background: #f9f9f9;
Â  Â  Â  border-radius: 8px;
Â  Â  }

Â  Â  footer {
Â  Â  Â  background-color: #0033A0;
Â  Â  Â  color: #FFFFFF;
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 10px;
Â  Â  Â  margin-top: 30px; /* Non piÃ¹ fissato in fondo, si adatta al contenuto */
Â  Â  }
Â  </style>

Â  <!-- Importa il client di Supabase -->
Â  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

Â  <script>
Â  Â  // Configurazione Supabase
Â  Â  const SUPABASE_URL = "https://arytlfiqiwdyiykaklmb.supabase.co";
Â  Â  const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyeXRsZmlxaXdkeWl5a2FrbG1iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwMDEzMTksImV4cCI6MjA3MDU3NzMxOX0.kVWYz6a5hDNazon7LYGK1AF4tnLEp8h-EdFGH17GXL8";

Â  Â  const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

Â  Â  // Funzione generica per caricare una sezione specifica
Â  Â  async function caricaSezione(tabella, ordine = null) {
Â  Â  Â  const container = document.getElementById("content");
Â  Â  Â  container.innerHTML = "<p>Caricamento...</p>";

Â  Â  Â  let query = supabaseClient.from(tabella).select("*");
Â  Â  Â  if (ordine) query = query.order(ordine, { ascending: true });

Â  Â  Â  const { data, error } = await query;

Â  Â  Â  if (error) {
Â  Â  Â  Â  console.error("Errore nel caricamento:", error);
Â  Â  Â  Â  container.innerHTML = `<p style='color:red'>Errore nel caricamento: ${error.message}</p>`;
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  if (!data || data.length === 0) {
Â  Â  Â  Â  container.innerHTML = "<p>Nessun contenuto trovato.</p>";
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  container.innerHTML = "";

Â  Â  Â  data.forEach(item => {
Â  Â  Â  Â  const div = document.createElement("div");
Â  Â  Â  Â  div.classList.add("card");

Â  Â  Â  Â  // Titolo
Â  Â  Â  Â  if (item.titolo) div.innerHTML += `<h3>${item.titolo}</h3>`;

Â  Â  Â  Â  // Descrizione
Â  Â  Â  Â  if (item.descrizione) div.innerHTML += `<p>${item.descrizione}</p>`;

Â  Â  Â  Â  // Dialogo
Â  Â  Â  Â  if (item.dialogo) {
Â  Â  Â  Â  Â  div.innerHTML += `<h4>Dialogo</h4><pre>${item.dialogo}</pre>`;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // Traduzione
Â  Â  Â  Â  if (item.traduzione) {
Â  Â  Â  Â  Â  div.innerHTML += `<h4>Traduzione</h4><pre>${item.traduzione}</pre>`;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // Vocabolario (se Ã¨ un array JSON)
Â  Â  Â  Â  if (item.vocabolario) {
Â  Â  Â  Â  Â  let voca = item.vocabolario;
Â  Â  Â  Â  Â  if (typeof voca === "string") {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  voca = JSON.parse(voca);
Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  voca = [];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  if (Array.isArray(voca)) {
Â  Â  Â  Â  Â  Â  div.innerHTML += `<h4>Vocabolario</h4><ul>${voca.map(v => `<li>${v.parola} = ${v.traduzione}</li>`).join("")}</ul>`;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Grammatica
Â  Â  Â  Â  if (item.grammatica) {
Â  Â  Â  Â  Â  div.innerHTML += `<h4>Grammatica</h4><p>${item.grammatica}</p>`;
Â  Â  Â  Â  }

Â  Â  Â  Â  // Esercizi
Â  Â  Â  Â  if (item.esercizi) {
Â  Â  Â  Â  Â  let ex = item.esercizi;
Â  Â  Â  Â  Â  if (typeof ex === "string") {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  ex = JSON.parse(ex);
Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  ex = [];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  if (Array.isArray(ex)) {
Â  Â  Â  Â  Â  Â  div.innerHTML += `<h4>Esercizi</h4><ul>${ex.map(e => `<li>${e.domanda} â†’ ${e.risposta}</li>`).join("")}</ul>`;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  container.appendChild(div);
Â  Â  Â  });
Â  Â  }

Â  Â  // Funzione per mostrare la pagina Home
Â  Â  function mostraHome() {
Â  Â  Â  document.getElementById("content").innerHTML = `
Â  Â  Â  Â  <h2>Benvenuto! ğŸ‡·ğŸ‡º</h2>
Â  Â  Â  Â  <p>Questa Ã¨ la tua app per imparare il russo.</p>
Â  Â  Â  Â  <p>Usa il menu qui sopra per navigare tra lezioni, vocabolario, grammatica ed esercizi.</p>
Â  Â  Â  `;
Â  Â  }

Â  Â  // Mostra la Home all'avvio
Â  Â  document.addEventListener("DOMContentLoaded", mostraHome);
Â  </script>
</head>
<body>

Â  <!-- Barra tricolore -->
Â  <div class="flag-bar">
Â  Â  <div class="white"></div>
Â  Â  <div class="blue"></div>
Â  Â  <div class="red"></div>
Â  </div>

Â  <header>ğŸ‡·ğŸ‡º App di Lingua Russa</header>

Â  <nav class="menu">
Â  Â  <button class="btn-primary" onclick="mostraHome()">ğŸ  Home</button>
Â  Â  <button class="btn-primary" onclick="caricaSezione('lezioni','titolo')">ğŸ“š Lezioni</button>
Â  Â  <button class="btn-primary" onclick="caricaSezione('vocabolario','parola')">ğŸ—£ï¸ Vocabolario</button>
Â  Â  <button class="btn-primary" onclick="caricaSezione('grammatica','titolo')">ğŸ“– Grammatica</button>
Â  Â  <button class="btn-primary" onclick="caricaSezione('esercizi','domanda')">ğŸ“ Esercizi</button>
Â  Â  <button class="btn-primary" onclick="caricaSezione('contatti')">ğŸ“© Contatti</button>
Â  </nav>

Â  <main id="content"></main>

Â  <footer>Â© 2025 App Lingua Russa</footer>

</body>
</html>
